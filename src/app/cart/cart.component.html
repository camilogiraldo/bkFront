<app-navigation [newUser]="newUser"></app-navigation>
<br>
<br>

<div class="container-fluid">

  <app-spinner *ngIf="loading"></app-spinner>
  <br>
  <br>

  <mat-card class="col-md-6 col-md-offset-1" *ngFor="let product of products">
    <!-- <div class="col-md-6 col-md-offset-4" > -->
    <div class="col-md-8">
      <h3> {{ product.name  | uppercase}} </h3>
      <img src="data:{{product.images.filetype}};base64,{{product.images.value}}" alt="" class="img-thumbnail small">
      <br />
    </div>
    <div class="col-md-4">

      <p>{{ product.description }}</p>
      <span><strong>Product type: </strong> {{ product.type }} </span>
      <br />
      <span><strong>Status: </strong> {{ product.status }} </span>
      <br />
      <br />
      <span>Price: <strong> <i class="fa fa-usd" aria-hidden="true"></i> {{ product.price }} /each</strong></span>
      <br/>
      <span><strong>Units in cart: </strong><input value="{{ product.count }}"/></span>
      <mat-card-actions>
        <button type="submit" class="btn btn-danger" (click)="deleteFromCart(product._id)">DELETE FROM CART </button>
      </mat-card-actions>

    </div>
  </mat-card>
<div class="col-md-12 col-sm-offset-6 checkoutButton">
  <mat-card class="col-md-3 col-sm-offset-1 checkout">
    <h3> TOTAL AMOUNT $ {{ totalAmount }} </h3>
    <mat-card-actions>
      <button *ngIf="!isLogged" type="submit" (click)="loginAndBuy()" class="btn btn-success centerButton">PROCEED TO CHECKOUT <i class="fa fa-dollar" aria-hidden="true"></i> </button>
    </mat-card-actions>
  </mat-card>
</div>
<div *ngIf="noItemsInCart" >
  <div class="col-md-5 col-md-offset-3">
    <i class="fa fa-shopping-cart fa-5x" aria-hidden="true"></i>
    <h3>
      No items in cart
    </h3>

  </div>
</div>
</div>
